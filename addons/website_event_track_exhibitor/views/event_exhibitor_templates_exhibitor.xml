<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="event_exhibitor_main" name="Event Exhibitor">
    <t t-call="website_event.layout">
        <div class="o_wesponsor_index o_wesponsor_index_bg">
            <!-- Drag/Drop Area -->
            <div id="oe_structure_wesponsor_index_1" class="oe_structure"/>
            <!-- Content -->
            <div class="o_wesponsor_exhibitor_container container pb-3">
                <div class="row mb-5">
                    <t t-call="website_event_track_exhibitor.exhibitor_aside"/>
                    <t t-call="website_event_track_exhibitor.exhibitor_main"/>
                </div>
            </div>
            <!-- Drag/Drop Area -->
            <div id="oe_structure_wesponsor_index_2" class="oe_structure"/>
        </div>
    </t>
</template>

<!-- ============================================================ -->
<!-- CONTENT: MAIN TEMPLATES -->
<!-- ============================================================ -->

<template id="exhibitor_main" name="Exhibitor: Main Content">
    <div class="col-12 col-md-8 col-lg-9">
        <div t-if="not sponsor.event_id.is_ongoing" class="row ml-3 mt-3 alert alert-warning">
            <p class="col-12 my-0">
                Starting in
                <span t-esc="sponsor.event_id.start_remaining"
                    t-options="{'widget': 'duration', 'digital': True, 'unit': 'minute', 'round': 'minute'}"/>
            </p>
        </div>
        <div class="row bg-white pt-3 ml-3">
            <div class="col-12">
                <h5 class="m-0">About <t t-esc="sponsor.name"/></h5>
                <hr class="mt-2 pb-1 mb-1"/>
                
                <div class="row mt32">
                    <div class="col-md-2">
                        <span t-if="sponsor.image_512" t-field="sponsor.image_512" t-options="{'widget': 'image', 'class': 'rounded-circle'}"/>
                        <span t-else="" t-field="sponsor.partner_id.image_512" t-options='{"widget": "image", "class": "rounded-circle"}'/>
                    </div>
                    <div class="col-md-10">
                        <div class="d-flex align-items-top mb-3">
                            <div class="d-flex flex-column">
                                <div class="d-flex align-items-center">
                                    <h4 t-field="sponsor.name" class="mb4"/>
                                    <span class="badge badge-primary ml-2"
                                        t-esc="sponsor.sponsor_type_id.name"/>
                                </div>
                                <span t-if="sponsor.partner_id.website">
                                    <i class="fa fa-home mr-2"/><a t-att-href="sponsor.partner_id.website"><span t-field="sponsor.partner_id.website"/></a>
                                </span>
                                <span t-if="sponsor.email">
                                    <i class="fa fa-envelope mr-2"/><a t-att-mailto="sponsor.email"><span t-field="sponsor.email"/></a>
                                </span>
                                <span t-if="sponsor.phone">
                                    <i class="fa fa-phone mr-2"/><span t-field="sponsor.phone"/>
                                </span>
                            </div>
                            <a t-att-href="'/event/%s/exhibitors?countries=%s' % (slug(sponsor.event_id), [sponsor.partner_id.country_id.id])"
                                class="ml-auto">
                                <img class="img"
                                    style="max-height: 36px;"
                                    t-att-src="website.image_url(sponsor.partner_id.country_id, 'image')"
                                    t-att-alt="sponsor.partner_id.country_id.name"/>
                            </a>
                        </div>
                        <div t-field="sponsor.website_description" class="oe_no_empty"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<!-- ============================================================ -->
<!-- ASIDE: CONTROL PANEL -->
<!-- ============================================================ -->

<template id="exhibitor_aside" name="Exhibitor: Aside">
    <div class="col-12 col-md-4 col-lg-3 o_wesponsor_exhibitor_aside">
        <div class="row bg-white pt-3">
            <div class="col-12">
                <h5 class="m-0">Other exhibitors</h5>
                <hr class="mt-2 pb-1 mb-1"/>
            </div>
            <ul class="col-12 list-unstyled">
                <li t-foreach="sponsors_other" t-as="sponsor_other">
                    <div t-attf-class="d-flex mb-3 align-items-top">
                        <img class="mr-2"
                            style="max-width: 40px;"
                            t-att-src="website.image_url(sponsor_other.partner_id.country_id, 'image')"
                            t-att-alt="sponsor_other.partner_id.country_id.name"/>
                        <div class="flex-grow-1">
                            <span class="d-flex align-items-top">
                                <a t-att-href="sponsor_other.website_url" t-esc="sponsor_other.name"/>
                                <span class="badge badge-light ml-auto" t-esc="sponsor_other.sponsor_type_id.name"/>
                            </span>
                            <small class="text-muted" t-esc="sponsor_other.subtitle"/>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</template>

</odoo>
