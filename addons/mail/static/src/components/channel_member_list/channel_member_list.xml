<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.ChannelMemberList" owl="1">
        <div class="o_ChannelMemberList bg-light">
            <t t-if="channel.orderedOnlineMembers.length > 0">
                <t t-call="mail.ChannelMemberList_memberList">
                    <t t-set="members" t-value="channel.orderedOnlineMembers"/>
                    <t t-set="title">Online</t>
                </t>
            </t>
            <t t-if="channel.orderedOfflineMembers.length > 0">
                <t t-call="mail.ChannelMemberList_memberList">
                    <t t-set="members" t-value="channel.orderedOfflineMembers"/>
                    <t t-set="title">Offline</t>
                </t>
            </t>
        </div>
    </t>

    <t t-name="mail.ChannelMemberList_memberList" owl="1">
        <h6 class="m-2"><t t-esc="title"/> - <t t-esc="members.length"/></h6>
        <t t-foreach="members" t-as="member" t-key="member.localId">
            <t t-set="partner" t-value="member.partner"/>
            <div class="o_ChannelMemberList_member">
                <div class="o_ChannelMemberList_avatarContainer">
                    <img class="o_ChannelMemberList_avatar" t-att-src="partner.avatarUrl" alt="Avatar"/>
                    <t t-if="partner.im_status">
                        <PartnerImStatusIcon
                            class="o_ChannelMemberList_partnerImStatusIcon"
                            t-att-class="{
                                'o-mobile': env.messaging.device.isMobile,
                            }"
                            partnerLocalId="partner.localId"
                        />
                    </t>
                </div>
                <div class="o_ChannelMemberList_avatarNameSeparator"/>
                <span class="o_ChannelMemberList_name">
                    <t t-esc="partner.nameOrDisplayName"/>
                </span>
            </div>
        </t>
    </t>

</templates>
