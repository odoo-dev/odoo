<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.MessageReactionMenu" owl="1">
        <div class="d-flex modal align-items-center justify-content-center w-100 h-100" 
        t-on-click.stop="() => this.props.close()" 
        t-on-keydown="onKeydown">
            <div t-on-click.stop="" class="o-mail-reaction-menu-container d-flex bg-100">
                <div class="text-center w-25 m-2 overflow-auto d-flex flex-column">
                    <t t-foreach="props.message.reactions" t-as="reaction" t-key="reaction.content">
                        <button class="btn p-1 rounded-1" t-att-title="reaction.content" t-on-click="() => state.reaction = reaction">
                            <span class="mx-1" t-esc="reaction.content"/>
                            <span class="mx-1" t-esc="reaction.count"/>
                        </button>
                    </t>
                </div>
                <div class="d-flex flex-column flex-grow-1 mx-0 py-2 overflow-auto">
                    <div t-foreach="state.reaction.personas" t-as="persona" t-key="persona.id" class="w-100 px-3 py-1">
                        <img class="rounded-circle o_object_fit_cover o_redirect o-mail-reaction-avatar"
                        t-att-src="threadService.avatarUrl(persona, props.message.originThread)"/>
                        <span class="flex-grow-1 mx-2 text-truncate fs-6" t-esc="persona.name"/>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
