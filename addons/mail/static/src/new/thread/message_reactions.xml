<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
<t t-name="mail.message_reactions" owl="1">
    <div t-if="props.message.reactions.length > 0" class="position-relative d-flex flex-wrap"
        t-att-class="{
            'flex-row-reverse me-3': env.inChatWindow and env.isAlignedRight,
            'ms-3': !(env.inChatWindow and env.isAlignedRight) and props.message.isDiscussion,
        }"
        t-attf-class="{{ props.message.isDiscussion ? 'mt-n2' : 'mt-1' }}">
        <button t-foreach="props.message.reactions" t-as="reaction" t-key="reaction.content" class="o-mail-message-reaction btn d-flex p-0 border rounded-1 mb-1"
            t-on-click="() => this.onClickReaction(reaction)"
            t-att-class="{
                'o-hasUserReacted border-primary text-primary fw-bolder': hasUserReacted(reaction),
                'bg-view': !hasUserReacted(reaction),
                'ms-1': env.inChatWindow and env.isAlignedRight,
                'me-1': !(env.inChatWindow and env.isAlignedRight),
         }" t-att-title="getReactionSummary(reaction)">
            <span class="mx-1" t-esc="reaction.content"/>
            <span class="mx-1" t-esc="reaction.count"/>
        </button>
    </div>
</t>
</templates>
