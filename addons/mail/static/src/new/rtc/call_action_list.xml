<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.call_action_list_view" owl="1">
        <div class="o-mail-call-action-list d-flex justify-content-between" t-attf-class="{{ className }}" t-ref="root">
            <div class="o-mail-call-action-list-buttons d-flex align-items-center flex-wrap">
                <t t-if="isOfActiveCall and rtc.state.currentRtcSession">
                    <button class="o-mail-call-action-list-button btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                        t-att-class="{ 'o-isActive': !rtc.state.currentRtcSession.isMute, 'o-isSmall p-2': isSmall, 'p-3': !isSmall }"
                        t-att-aria-label="microphoneButtonTitle"
                        t-att-title="microphoneButtonTitle"
                        t-on-click="onClickMicrophone">
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-stack-1x" t-att-class="{
                                'fa-lg': !isSmall,
                                'fa-microphone': !rtc.state.currentRtcSession.isMute,
                                'fa-microphone-slash': rtc.state.currentRtcSession.isMute,
                                'text-danger': rtc.state.currentRtcSession.isMute,
                            }"/>
                        </div>
                    </button>
                    <button class="o-mail-call-action-list-button btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                        t-att-class="{ 'o-isActive': !rtc.state.currentRtcSession.isDeaf, 'o-isSmall p-2': isSmall, 'p-3': !isSmall }"
                        t-att-aria-label="headphoneButtonTitle"
                        t-att-title="headphoneButtonTitle"
                        t-on-click="onClickDeafen">
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-stack-1x" t-att-class="{
                                'fa-lg': !isSmall,
                                'fa-headphones': !rtc.state.currentRtcSession.isDeaf,
                                'fa-deaf': rtc.state.currentRtcSession.isDeaf,
                                'text-danger': rtc.state.currentRtcSession.isDeaf,
                            }"/>
                        </div>
                    </button>
                    <button class="o-mail-call-action-list-button o-mail-call-action-list-videoButton btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                        t-att-class="{
                            'o-isActive': rtc.state.sendUserVideo,
                            'o-isSmall p-2': isSmall,
                            'p-3': !isSmall,
                        }"
                        t-att-aria-label="cameraButtonTitle"
                        t-att-title="cameraButtonTitle"
                        t-on-click="() => this.rtc.toggleVideoBroadcast('user-video')">
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-video-camera fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall, 'text-success': rtc.state.sendUserVideo }"/>
                        </div>
                    </button>
                    <button t-if="!isMobileDevice" class="o-mail-call-action-list-button o-mail-call-action-list-videoButton btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                        t-att-class="{
                            'o-isActive': rtc.state.sendDisplay,
                            'o-isSmall p-2': isSmall,
                            'p-3': !isSmall,
                        }"
                        t-att-aria-label="screenSharingButtonTitle"
                        t-att-title="screenSharingButtonTitle"
                        t-on-click="() => this.rtc.toggleVideoBroadcast('display')">
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-desktop fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall, 'text-success': rtc.state.sendDisplay }"/>
                        </div>
                    </button>
                    <button t-if="!callView.isFullScreen" class="o-mail-call-action-list-button btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                        aria-label="Activate Full Screen"
                        title="Activate Full Screen"
                        t-att-class="{ 'o-isSmall p-2': isSmall, 'p-3': !isSmall }"
                        t-on-click="callView.activateFullScreen"
                    >
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-arrows-alt fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall }"/>
                        </div>
                    </button>
                    <button t-if="callView.isFullScreen" class="o-mail-call-action-list-button btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                        aria-label="Deactivate Full Screen"
                        title="Deactivate Full Screen"
                        t-att-class="{ 'o-isSmall p-2': isSmall, 'p-3': !isSmall }"
                        t-on-click="callView.deactivateFullScreen"
                    >
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-compress fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall }"/>
                        </div>
                    </button>
                    <button t-if="isDebug" class="o-mail-call-action-list-button btn d-flex m-1 border-0 rounded-circle shadow-none opacity-100 opacity-75-hover"
                            aria-label="More"
                            title="More"
                            t-att-class="{ 'o-isSmall p-2': isSmall, 'p-3': !isSmall }"
                            t-on-click="onClickMore"
                            t-ref="moreButton"
                    >
                        <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                            <i class="fa fa-ellipsis-h fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall }"/>
                        </div>
                    </button>
                </t>
                <button t-if="props.thread.rtcInvitingSession and !isOfActiveCall" class="o-mail-call-action-list-button o-mail-call-action-list-callToggle o-isActive btn btn-danger d-flex m-1 border-0 rounded-circle shadow-none"
                    t-att-class="{ 'o-isSmall p-2': isSmall, 'p-3': !isSmall }"
                    aria-label="Reject"
                    title="Reject"
                    t-att-disabled="rtc.state.hasPendingRtcRequest"
                    t-on-click="onClickRejectCall">
                    <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                        <i class="fa fa-phone fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall }"/>
                    </div>
                </button>
                <button class="o-mail-call-action-list-button o-mail-call-action-list-callToggle btn d-flex m-1 border-0 rounded-circle shadow-none"
                    t-att-aria-label="callButtonTitle"
                    t-att-class="{ 'o-isActive btn-danger': isOfActiveCall, 'o-isSmall p-2': isSmall, 'p-3': !isSmall, 'btn-success': !isOfActiveCall }"
                    t-att-disabled="rtc.state.hasPendingRtcRequest"
                    t-att-title="callButtonTitle"
                    t-on-click="onClickToggleAudioCall">
                    <div class="o-mail-call-action-list-buttonIconWrapper fa-stack" t-att-class="{ 'o-isSmall': isSmall }">
                        <i class="fa fa-phone fa-stack-1x" t-att-class="{ 'fa-lg': !isSmall }"/>
                    </div>
                </button>
            </div>
        </div>
    </t>

</templates>
