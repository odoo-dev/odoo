<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="assets">
        <!-- basic scss setup -->
        <t t-call="web._assets_helpers">
            <t t-call="web._assets_backend_helpers"/>
        </t>
        <t t-call="web._assets_bootstrap"/>
        <link rel="stylesheet" type="text/css" href="/web/static/lib/fontawesome/css/font-awesome.css"/>

        <!-- insert all scss files in /wowl -->
        <t t-foreach="scssFiles" t-as="scssFile">
            <link rel="stylesheet" type="text/scss" t-att-href="scssFile"/>
        </t>

        <script type="text/javascript" src="/web/static/lib/popper/popper.js"></script>

        <script type="text/javascript" src="/web/static/lib/owl/owl.js"></script>
        <script type="text/javascript" src="/wowl/static/dist/app.js"></script>
        <t t-if="live_reload">
            <script type="text/javascript" src="/wowl/static/livereload.js"></script>
        </t>
    </template>

    <template id="wowl.root">
        <html>
            <head>
                <meta charset="utf-8"/>
                <title t-esc="title or 'WOWL'"/>
                <link type="image/x-icon" rel="shortcut icon" t-att-href="x_icon or '/wowl/static/img/favicon.ico'"/>

                <script>
                    window.odoo = {
                        session_info: <t t-raw="json.dumps(session_info)"/>,
                    };
                </script>

                <t t-call-assets="wowl.assets" t-js="False"/>
                <t t-call-assets="wowl.assets" t-css="False"/>
            </head>
            <body />
        </html>
    </template>

    <template id="test_assets" inherit_id="wowl.assets" primary="True">
        <xpath expr="//script[@src='/wowl/static/dist/app.js']" position="replace">
            <script type="text/javascript" src="/wowl/static/dist/app_tests.js"></script>
        </xpath>

        <xpath expr="//script[@src='/wowl/static/dist/app_tests.js']" position="before">
            <link type="text/css" rel="stylesheet" href="/web/static/lib/qunit/qunit-2.9.1.css"/>
            <script type="text/javascript" src="/web/static/lib/qunit/qunit-2.9.1.js"></script>
            <!-- <script type="text/javascript" src="/web/static/tests/helpers/qunit_config.js"></script> -->
            <!-- <script type="text/javascript" src="/web/static/tests/helpers/qunit_asserts.js"></script> -->
        </xpath>
    </template>

    <template id="wowl.qunit_suite">
        <html>
            <head>
                <meta charset="utf-8"/>
                <title t-esc="'WOWL Tests'"/>
                <link type="image/x-icon" rel="shortcut icon" t-att-href="x_icon or '/wowl/static/img/favicon.ico'"/>

                <t t-call-assets="wowl.test_assets" t-js="False"/>
                <t t-call-assets="wowl.test_assets" t-css="False"/>
            </head>
            <body>
                <div id="qunit"/>
                <div id="qunit-fixture"/>
            </body>
        </html>
    </template>

</odoo>
