<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

<div t-name="wowl.MobileSwitchCompanyMenu" class="o_burger_menu_companies">
    <span class="o_burger_menu_user_title">COMPANIES</span>
    <div t-foreach="user.allowed_companies" t-as="company">
        <t t-set="id" t-value="company[0]"/>
        <t t-set="displayName" t-value="company[1]"/>
        <t t-set="isCompanySelected" t-value="user.context.allowed_company_ids.includes(id)"/>
        <t t-set="checkIcon" t-value="isCompanySelected ? 'fa-check-square' : 'fa-square-o'"/>
        <t t-set="textMuted" t-value="isCompanySelected ?  '' : 'text-muted'"/>
        <t t-set="backgroundColor" t-value="user.current_company === id ? 'lightgrey' : ''"/>
        <div class="d-flex py-0 px-0" t-att-data-company-id="id">
            <div class="ml-auto pl-3 pr-3 border border-top-0 border-left-0 border-bottom-0 toggle_company o_py" t-on-click="toggleCompany(company[0])">
                <span style="height: 2rem;">
                    <i t-attf-class="fa fa-fw {{checkIcon}} pt-2"></i>
                </span>
            </div>
            <div class="d-flex flex-grow-1 align-items-center py-2 log_into pl-3 o_py" t-attf-style="background-color: {{backgroundColor}};" t-on-click="logIntoCompany(company[0])">
                <span t-esc="displayName" t-attf-class='mr-3 company_label {{textMuted}}'/>
            </div>
        </div>
    </div>
</div>

</templates>