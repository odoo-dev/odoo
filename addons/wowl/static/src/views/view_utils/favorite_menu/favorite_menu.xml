<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="wowl.FavoriteMenu" owl="1">
        <Dropdown t-on-dropdown-item-selected.stop="onDropdownItemSelected" class="o_favorite_menu" togglerClass="'btn btn-secondary'">
            <Dialog t-if="state.toDelete" title="'Warning'" t-on-dialog-closed="emptyState">
                <t t-if="state.toDelete.userId">Are you sure that you want to remove this filter?</t>
                <t t-else="">This filter is global and will be removed for everybody if you continue.</t>
                <t t-set="buttons">
                    <button type="button" class="btn btn-primary" t-on-click="onDeletionConfirmed(state.toDelete.itemId)">
                        <t>Ok</t>
                    </button>
                    <button type="button" class="btn btn-secondary" t-on-click.stop="emptyState">
                        <t>Cancel</t>
                    </button>
                </t>
            </Dialog>
            <i t-if="icon" t-att-class="icon"/>
            <span class="o_dropdown_title" t-esc="title"/>
            <t t-set-slot="menu">
                <t t-set="currentGroup" t-value="null"/>
                <t t-foreach="items" t-as="item" t-key="item.id or item.key">
                    <div t-if="currentGroup !== null and currentGroup !== item.groupNumber" role="separator" class="dropdown-divider"/>
                    <DropdownItem t-if="item.type==='favorite'" payload="{ itemId: item.id }" t-att-class="{ o_dropdown_active: item.isActive }">
                        <t t-esc="item.description"/>
                        <i  class="o_icon_right fa fa-trash-o"
                            title="Delete item"
                            t-on-click.stop.prevent="openDialog(item.id)"
                        />
                    </DropdownItem>
                    <t t-else="" t-component="item.Component" searchModel="props.searchModel"/>
                    <t t-set="currentGroup" t-value="item.groupNumber"/>
                </t>
            </t>
        </Dropdown>
    </t>

</templates>
