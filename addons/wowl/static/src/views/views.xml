<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- ControlPanel -->

    <div t-name="wowl.ControlPanel" class="o_control_panel" owl="1">
        <div class="o_cp_top">
            <div class="o_cp_top_left">
                <t t-if="topLeft" t-call="{{topLeft}}"/>
            </div>
            <div class="o_cp_top_right">
                <t t-if="topRight" t-call="{{topRight}}"/>
            </div>
        </div>
        <div class="o_cp_bottom">
            <div class="o_cp_bottom_left">
                <t t-if="bottomLeft" t-call="{{bottomLeft}}"/>
            </div>
            <div class="o_cp_bottom_right">
                <t t-if="bottomRight" t-call="{{bottomRight}}"/>
            </div>
        </div>
    </div>

    <t t-name="wowl.Breadcrumbs" owl="1">
        <ol class="breadcrumb">
            <li t-foreach="props.breadcrumbs" t-as="breadcrumb" class="breadcrumb-item">
                <!-- <a t-if="!breadcrumb_last" href="#" t-on-click.prevent="onBreadcrumbClicked(breadcrumb.jsId)"> -->
                <a t-if="!breadcrumb_last" href="#" t-on-click.prevent="trigger('breadcrumb-clicked', breadcrumb.jsId)">
                    <t t-esc="breadcrumb.name"/>
                </a>
                <t t-else=""><t t-esc="breadcrumb.name"/></t>
            </li>
        </ol>
    </t>

    <!-- Views -->

    <t t-name="wowl.AbstractController" owl="1">
         <div>
            <t t-call="wowl.ControlPanel">
                <t t-set="topLeft" t-value="cpSubTemplates.topLeft"/>
                <t t-set="topRight" t-value="cpSubTemplates.topRight"/>
                <t t-set="bottomLeft" t-value="cpSubTemplates.bottomLeft"/>
                <t t-set="bottomRight" t-value="cpSubTemplates.bottomRight"/>
            </t>
            <Renderer t-props="rendererProps"/>
        </div>
    </t>

    <t t-name="wowl.ViewSwitcher" owl="1">
        <nav t-if="props.viewSwitcherEntries and props.viewSwitcherEntries.length > 1"
             class="btn-group o_cp_switch_buttons">
            <button t-foreach="props.viewSwitcherEntries" t-as="view" t-key="view.type"
                    t-attf-class="btn btn-secondary fa fa-lg {{view.icon}}"
                    t-att-title="view.name"
                    t-on-click="onViewClicked(view.type)"/>
        </nav>
    </t>

    <t t-name="wowl.Pager" owl="1">
        <nav class="o_pager" aria-label="Pager">
            <span class="o_pager_counter" t-on-click.stop="">
                <input t-if="state.editing" type="text"
                    class="o_pager_value o_input"
                    autofocus=""
                    t-att-value="value"
                    t-on-blur="onBlur"
                    t-on-change="onValueChange"
                    t-on-keydown.stop="onValueKeydown"
                />
                <span t-else=""
                    class="o_pager_value"
                    t-esc="value"
                    t-on-click="onEdit"
                />
                <span> / </span>
                <span class="o_pager_limit" t-esc="props.model.size"/>
            </span>
            <span class="btn-group" aria-atomic="true">
                <!-- accesskeys not wanted in X2Many widgets -->
                <button type="button"
                    class="fa fa-chevron-left btn btn-secondary o_pager_previous"
                    t-att-disabled="props.model.disabled || singlePage"
                    t-att-accesskey="props.withAccessKey ? 'p' : false"
                    aria-label="Previous"
                    title="Previous"
                    tabindex="-1"
                    t-on-click="changeSelection(-1)"
                />
                <button type="button"
                    class="fa fa-chevron-right btn btn-secondary o_pager_next"
                    t-att-disabled="props.model.disabled || singlePage"
                    t-att-accesskey="props.withAccessKey ? 'n' : false"
                    aria-label="Next"
                    title="Next"
                    tabindex="-1"
                    t-on-click="changeSelection(1)"
                />
            </span>
        </nav>
    </t>

    <t t-name="wowl.Views.ControlPanelTopLeft" owl="1">
        <t t-call="wowl.Breadcrumbs"/>
    </t>
    <t t-name="wowl.Views.ControlPanelBottomRight" owl="1">
        <div class="o_cp_pager"/>
        <t t-call="wowl.ViewSwitcher"/>
    </t>

    <!-- KanbanView -->

    <t t-name="wowl.KanbanView.Buttons" owl="1">
        <div class="o_cp_buttons">
            <button class="btn btn-primary" t-on-click="_onExecuteAction(35)">Open Apps</button>
            <button class="btn btn-secondary" t-on-click="_onExecuteAction({target: 'new', tag: 'mail.widgets.discuss', type: 'ir.actions.client'})">
                Open Dialog Action
            </button>
            <button class="btn btn-secondary" t-on-click="_onOpenFormView">Open form view</button>
        </div>
    </t>

    <t t-name="wowl.KanbanView.ControlPanelBottomLeft" owl="1">
        <t t-call="wowl.KanbanView.Buttons"/>
    </t>
    <t t-name="wowl.KanbanView.ControlPanelBottomRight" t-inherit="wowl.Views.ControlPanelBottomRight" t-inherit-mode="primary" owl="1">
        <xpath expr="//div" position="inside">
            <Pager model="pager" t-ref="pager"/>
        </xpath>
    </t>

    <!-- FormView -->

    <t t-name="wowl.FormView.Buttons" owl="1">
        <div class="o_cp_buttons">
            <t t-if="state.mode === 'readonly'">
                <button class="btn btn-primary" t-on-click="_onEdit()">Edit</button>
                <button class="btn btn-secondary" t-on-click="_onCreate()">Create</button>
            </t>
            <t t-else="">
                <button class="btn btn-primary" t-on-click="_onSave()">Save</button>
                <button class="btn btn-secondary" t-on-click="_onDiscard()">Discard</button>
            </t>
        </div>
    </t>

    <t t-name="wowl.FormView.ControlPanelBottomLeft" owl="1">
        <t t-call="wowl.FormView.Buttons"/>
        <ActionMenus t-if="actionMenusProps" t-props="actionMenusProps"/>
    </t>

</templates>
