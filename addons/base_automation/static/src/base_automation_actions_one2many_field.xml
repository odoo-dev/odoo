<?xml version="1.0" encoding="UTF-8"?>

<templates>
    <t t-name="base_automation.ActionsOne2ManyField" owl="1">
        <div class="d-flex" t-ref="root">
            <t t-if="currentActions.length === 0">
                <span class="text-muted">no action defined...</span>
            </t>
            <t t-foreach="currentActions" t-as="action" t-key="action.id">
                <div style="min-width: fit-content;" t-att-data-action-id="action.id">
                    <div class="fs-5 d-flex align-items-center">
                        <i
                            data-name="server_action_icon"
                            t-att-title="getActionType(action)"
                            class="fa"
                            t-att-class="{
                                'code': 'fa-file-code-o',
                                'object_create': 'fa-edit',
                                'object_write': 'fa-refresh',
                                'multi': 'fa-list-ul',
                                'mail_post': 'fa-envelope',
                                'followers': 'fa-user-o',
                                'remove_followers': 'fa-user-times',
                                'next_activity': 'fa-clock-o',
                                'sms': 'fa-comments-o',
                            }[action.data.state]"
                        />
                        <div class="fs-3 ps-2" t-esc="action.data.name" />
                    </div>

                    <t t-set="actionTemplate" t-value="getActionTemplate(action)"/>
                    <t t-if="actionTemplate" t-call="{{ actionTemplate }}" t-call-context="action.data" />
                </div>
                <div t-if="!action_last" class="px-3 align-self-center" t-att-data-action-id="action.id">
                    <i class="fa fa-lg fa-plus text-primary"></i>
                </div>
            </t>
            <t t-if="hiddenActionsCount">
                <div class="px-3 align-self-center">
                    <i class="fa fa-lg fa-fw fa-ellipsis-h text-secondary" t-att-data-tooltip="moreText"></i>
                </div>
            </t>
        </div>
    </t>

    <t t-name="base_automation.ActionsOne2ManyField.Action.ObjectCreateOrWrite" owl="1">
        <div t-if="crud_model_id" t-esc="crud_model_id[1]"/>
    </t>

    <t t-name="base_automation.ActionsOne2ManyField.Action.MailPost" owl="1">
        <div>
            Template: <t t-esc="template_id[1]"/>
        </div>
        <div>
            Send as: <t t-esc="mail_post_method"/>
        </div>
    </t>
</templates>
