<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.KanbanRenderer" owl="1">
        <div class="o_kanban_view" t-attf-class="o_kanban_{{ props.list.isGrouped ? '' : 'un' }}grouped {{ props.info.className or '' }}">
            <t t-foreach="props.list.data" t-as="groupOrRecord" t-key="groupOrRecord.id">
                <t t-if="props.list.isGrouped">
                    <t t-set="group" t-value="groupOrRecord" />
                    <div class="o_kanban_group">
                        <div class="o_kanban_header">
                            <div class="o_kanban_header_title">
                                <span class="o_column_title">
                                    <t t-esc="group.displayName" />
                                </span>
                                <span t-if="props.info.quickCreate" class="o_kanban_quick_add" t-on-click="quickCreate(group)">
                                    <i class="fa fa-plus" role="img" aria-label="Quick add" title="Quick add" />
                                </span>
                            </div>
                        </div>
                        <t t-if="state.quickCreate[group.id]">
                            <View resModel="props.list.resModel" type="'form'" views="[]" mode="'edit'" display="{ controlPanel: false }" />
                        </t>
                        <t t-foreach="group.data" t-as="record" t-key="record.id">
                            <t t-call="{{ cardTemplate }}" />
                        </t>
                    </div>
                </t>
                <t t-else="">
                    <t t-call="{{ cardTemplate }}">
                        <t t-set="record" t-value="groupOrRecord" />
                    </t>
                </t>
            </t>
            <t t-if="!props.list.isGrouped">
                <!-- kanban ghost cards are used to properly space last elements. -->
                <div t-foreach="[,,,,,,]" t-as="i" t-key="i_index" class="o_kanban_record o_kanban_ghost" />
            </t>
        </div>
    </t>

    <t t-name="web.KanbanColorPicker" owl="1">
        <ul class="oe_kanban_colorpicker">
            <t t-foreach="colors" t-as="color" t-key="color">
                <li role="menuitem" t-on-click="selectColor(record, color_index)" t-att-title="color" t-att-aria-label="color">
                    <a href="#" t-attf-class="oe_kanban_color_{{ color_index }}" />
                </li>
            </t>
        </ul>
    </t>

</templates>
